import { gql, ApolloClient, InMemoryCache, ApolloClientOptions } from '@apollo/client';

export class GraphqlCustomClient {
  private readonly client: ApolloClient<any>;

  constructor(options: ApolloClientOptions<any>) {
    this.client = new ApolloClient({
      ssrMode: true,
      defaultOptions: {
        watchQuery: {
          fetchPolicy: 'network-only',
        },
      },
      ...options,
      cache: options?.cache ?? new InMemoryCache(),
    });
  }

  protected getCustomVariables<TVariables = Record<string, unknown>>(variables?: TVariables) {
    return {
      ...variables,
    } as TVariables;
  }

{{{operations}}}
}
